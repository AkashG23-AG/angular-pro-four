<div class="p-6 min-h-screen bg-slate-50 dark:bg-slate-900">
  <div class="max-w-4xl mx-auto">

    <h1 class="text-2xl font-semibold mb-6">Parent / Child Circles (Tailwind + Angular)</h1>

    <!-- layout parents horizontally -->
    <div class="flex justify-between gap-6">
      <ng-container *ngFor="let parent of nodes">
        <div class="flex flex-col items-center space-y-4 w-1/3">
          <!-- Parent circle -->
          <div class="flex flex-col items-center">
            <div
              class="rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-200"
              [ngStyle]="{
                width: sizeFor(parent.value) + 'px',
                height: sizeFor(parent.value) + 'px',
                background: 'linear-gradient(135deg,#4F46E5,#06B6D4)'
              }"
              title="parent {{parent.label}} (value: {{parent.value}})"
            >
              <span class="font-medium">{{ parent.label }}</span>
            </div>

            <!-- controls for parent -->
            <div class="mt-3 flex items-center gap-2">
              <button (click)="decrease(parent)" class="px-2 py-1 rounded bg-gray-200 hover:bg-gray-300">-</button>
              <span class="text-sm">{{ parent.value }}</span>
              <button (click)="increase(parent)" class="px-2 py-1 rounded bg-gray-200 hover:bg-gray-300">+</button>
            </div>
          </div>

          <!-- children row -->
          <div class="flex items-center justify-center gap-4 flex-wrap">
            <ng-container *ngFor="let child of parent.children">
              <div class="flex flex-col items-center">
                <div
                  class="rounded-full flex items-center justify-center text-slate-800 shadow-sm transition-all duration-200"
                  [ngStyle]="{
                    width: sizeFor(child.value) + 'px',
                    height: sizeFor(child.value) + 'px',
                    background: 'linear-gradient(180deg,#FDE68A,#FBCFE8)'
                  }"
                  title="child {{child.label}} (value: {{child.value}})"
                >
                  <span class="text-xs font-medium">{{ child.label }}</span>
                </div>

                <div class="mt-2 flex gap-1">
                  <button (click)="decrease(child)" class="px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200 text-xs">-</button>
                  <button (click)="increase(child)" class="px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200 text-xs">+</button>
                </div>
              </div>
            </ng-container>
          </div>

          <!-- add / remove child buttons -->
          <div class="flex gap-2 mt-4">
            <button (click)="addChild(parent)" class="px-3 py-1 rounded bg-green-500 text-white text-sm hover:opacity-90">Add child</button>
            <button (click)="removeChild(parent)" class="px-3 py-1 rounded bg-red-400 text-white text-sm hover:opacity-90">Remove child</button>
          </div>
        </div>
      </ng-container>
    </div>

    <!-- helpful legend & instructions -->
    <div class="mt-8 p-4 bg-white rounded shadow-sm">
      <p class="text-sm text-slate-600">
        Sizes map from <strong>{{minPx}}px</strong> to <strong>{{maxPx}}px</strong> based on each node's <code>value</code> (0..100).
        Use + / - to change sizes, or <em>Add child</em>/<em>Remove child</em>.
      </p>
    </div>

  </div>
</div>
